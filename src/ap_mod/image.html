<!DOCTYPE html>
<html lang="zh-CN">
    <head>
        <title>Assistant</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
        <link href="css/style.css" rel="stylesheet">
    </head>
    <body>
        <div class="container" id="app">
            <loc>ocr_prompt</loc>
            <loc>image_prompt</loc><br>
            <input type="input" id="image_path" class="form-control" title="input">
            <br/>
            <button type="button" class="btn btn-primary" onclick="submit()"><loc>go_ahead</loc></button>
        </div>
        <script src="../js/app.js"></script>
        <script src="../js/lang.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
        <script>
            window.onload = function() {
                let firstRun = detect_first_run();
                if (firstRun) {
                    var link = document.createElement('a');
                    link.href = "first_run.html";
                    link.click();
                }
                let cfg = JSON.parse(fc(config_path()));
                update(cfg.language);
            }
            let path = localStorage.getItem("project_path");
            let json_mfs = JSON.parse(fc(path+"/project.json"));
            function submit() {
                let imgpath = document.getElementById("image_path").value;
                // scan files in imgpath, only support jpg and png
                let files = [];
                fs.readdirSync(imgpath).forEach(file => {
                    if (file.endsWith(".jpg") || file.endsWith(".png") || file.endsWith(".jpeg")) {
                        files.push(file);
                    }
                });
                
            }
        </script>
    </body>
</html>